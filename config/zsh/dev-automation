# Development Automation

# Universal test runner
run_tests() {
    # Go projects
    if [[ -f "go.mod" ]]; then
        go test ./...
    # Node.js projects
    elif [[ -f "package.json" ]] && command -v jq >/dev/null && jq -e '.scripts.test' package.json >/dev/null 2>&1; then
        npm test
    # Python projects
    elif [[ -f "pyproject.toml" || -f "requirements.txt" || -f "setup.py" ]]; then
        command -v pytest >/dev/null && pytest || python -m unittest discover
    # Rust projects
    elif [[ -f "Cargo.toml" ]]; then
        cargo test
    # Makefile
    elif [[ -f "Makefile" ]] && grep -q "^test:" Makefile; then
        make test
    else
        echo "No test command found"; return 1
    fi
}

# Alias for convenience
alias test='run_tests'
