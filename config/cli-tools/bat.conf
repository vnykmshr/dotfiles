# bat configuration
# Modern replacement for cat with syntax highlighting

# Default bat theme and options
export BAT_THEME="Monokai Extended"
export BAT_STYLE="numbers,changes,header,grid"

# Pager settings
export BAT_PAGER="less -RF"

# Configuration for different use cases
export BAT_CONFIG_PATH="$HOME/.config/bat/config"

# Language mappings for better syntax highlighting
# These help bat recognize file types better
export BAT_TABS="4"

# Alternative themes for different scenarios
export BAT_THEME_LIGHT="GitHub"
export BAT_THEME_DARK="Monokai Extended"

# Functions for switching themes
bat_light() {
    export BAT_THEME="$BAT_THEME_LIGHT"
    echo "Switched to light theme: $BAT_THEME"
}

bat_dark() {
    export BAT_THEME="$BAT_THEME_DARK"
    echo "Switched to dark theme: $BAT_THEME"
}

# Auto-detect terminal background and set appropriate theme
if [[ -n "$COLORFGBG" ]]; then
    # Terminal background detection (works in some terminals)
    if [[ "$COLORFGBG" =~ "15;0" ]] || [[ "$COLORFGBG" =~ "7;0" ]]; then
        export BAT_THEME="$BAT_THEME_LIGHT"
    else
        export BAT_THEME="$BAT_THEME_DARK"
    fi
fi

# Useful bat aliases with different configurations
alias batplain='bat --style=plain'
alias batgrid='bat --style=numbers,grid'
alias batfull='bat --style=full'
alias batsnip='bat --style=snip'

# Integration with other tools
alias bathelp='bat --list-themes'
alias batlang='bat --list-languages'

# Fallback for systems without bat
if ! command -v bat >/dev/null 2>&1; then
    alias bat='cat'
    alias batplain='cat'
    alias batgrid='cat'
    alias batfull='cat'
    alias batsnip='cat'
fi