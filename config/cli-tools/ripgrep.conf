# ripgrep configuration
# Modern replacement for grep with better defaults and performance

# Default ripgrep options
export RIPGREP_CONFIG_PATH="$HOME/.config/ripgrep/config"

# Configuration for ripgrep
# These options are applied by default when using rg

# Smart case searching (case insensitive unless uppercase is used)
export RG_DEFAULT_OPTIONS="--smart-case --follow --hidden"

# Color configuration
export RG_COLORS="
line:fg:yellow
line:style:bold
path:fg:green
path:style:bold
match:fg:black
match:bg:yellow
match:style:nobold
"

# Useful ripgrep functions
rg_code() {
    # Search only in code files
    rg --type-add 'code:*.{js,ts,jsx,tsx,py,go,rs,java,c,cpp,h,hpp,css,scss,html,vue,php,rb,sh,bash,zsh}' \
       --type code "$@"
}

rg_docs() {
    # Search only in documentation files
    rg --type-add 'docs:*.{md,txt,rst,adoc,org}' \
       --type docs "$@"
}

rg_config() {
    # Search only in configuration files
    rg --type-add 'config:*.{json,yaml,yml,toml,ini,conf,cfg,xml}' \
       --type config "$@"
}

rg_todos() {
    # Find TODO, FIXME, HACK, etc. comments
    rg -i "(TODO|FIXME|HACK|BUG|NOTE|XXX).*" "$@"
}

rg_secrets() {
    # Search for potential secrets (be careful with this!)
    rg -i "(password|secret|key|token|api_key|private_key|auth)" \
       --type-add 'text:*.{txt,md,yaml,yml,json,toml,ini,conf,cfg}' \
       --type text "$@"
}

# Integration with other tools
alias rga='rg --no-ignore --hidden'
alias rgf='rg --files'
alias rgl='rg --files-with-matches'
alias rgc='rg --count'
alias rgi='rg --ignore-case'

# Fallback for systems without ripgrep
if ! command -v rg >/dev/null 2>&1; then
    alias rg='grep -r'
    alias rga='grep -ra'
    alias rgf='find . -type f'
    alias rgl='grep -rl'
    alias rgc='grep -rc'
    alias rgi='grep -ri'
fi
