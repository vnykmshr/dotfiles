# delta configuration
# Enhanced git diff viewer with syntax highlighting

# Delta is configured in git config, but we can set some environment variables
# and create useful functions

# Default delta options (if not using git config)
export DELTA_FEATURES="+side-by-side +line-numbers +decorations +navigate"

# Functions for different delta modes
delta_side_by_side() {
    git -c delta.side-by-side=true "$@"
}

delta_full_width() {
    git -c delta.side-by-side=false "$@"
}

delta_light_theme() {
    git -c delta.light=true -c delta.syntax-theme="GitHub" "$@"
}

delta_dark_theme() {
    git -c delta.light=false -c delta.syntax-theme="Monokai Extended" "$@"
}

# Useful aliases for git with delta
alias gd='git diff'
alias gdc='git diff --cached'
alias gds='git diff --stat'
alias gdw='git diff --word-diff=color'
alias gshow='git show'
alias glog='git log --oneline --graph --decorate'

# Delta-specific aliases
alias gdelta='git diff | delta'
alias gshowdelta='git show | delta'

# Compare files directly with delta (not just git)
if command -v delta >/dev/null 2>&1; then
    alias ddiff='delta'

    # Function to compare any two files with delta
    diff_files() {
        if [[ $# -ne 2 ]]; then
            echo "Usage: diff_files <file1> <file2>"
            return 1
        fi
        diff -u "$1" "$2" | delta
    }
fi

# Fallback for systems without delta
if ! command -v delta >/dev/null 2>&1; then
    alias ddiff='diff -u'
    diff_files() {
        if [[ $# -ne 2 ]]; then
            echo "Usage: diff_files <file1> <file2>"
            return 1
        fi
        diff -u "$1" "$2"
    }
fi
