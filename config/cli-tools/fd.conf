# fd configuration
# Modern replacement for find with better defaults and performance

# Default fd options
export FD_OPTIONS="--color=auto --follow --hidden"

# Useful fd functions
fd_code() {
    # Find only code files
    fd --extension js --extension ts --extension jsx --extension tsx \
       --extension py --extension go --extension rs --extension java \
       --extension c --extension cpp --extension h --extension hpp \
       --extension css --extension scss --extension html --extension vue \
       --extension php --extension rb --extension sh --extension bash --extension zsh "$@"
}

fd_docs() {
    # Find only documentation files
    fd --extension md --extension txt --extension rst --extension adoc --extension org "$@"
}

fd_config() {
    # Find only configuration files
    fd --extension json --extension yaml --extension yml --extension toml \
       --extension ini --extension conf --extension cfg --extension xml "$@"
}

fd_large() {
    # Find large files (>100MB)
    fd --type f --size +100m "$@"
}

fd_empty() {
    # Find empty files and directories
    fd --type f --size 0 "$@"
    fd --type d --max-depth 1 -x test -z "$(ls -A '{}')" \; "$@"
}

fd_recent() {
    # Find files modified in last 7 days
    fd --type f --changed-within 7d "$@"
}

fd_old() {
    # Find files not modified in last 90 days
    fd --type f --changed-before 90d "$@"
}

# Common aliases
alias fda='fd --no-ignore --hidden'
alias fdt='fd --type f'
alias fdd='fd --type d'
alias fdl='fd --type l'  # symlinks
alias fde='fd --type e'  # empty
alias fdx='fd --type x'  # executable

# Size-based searches
alias fd_small='fd --type f --size -1k'
alias fd_medium='fd --type f --size +1k --size -10m'
alias fd_big='fd --type f --size +10m'

# Fallback for systems without fd
if ! command -v fd >/dev/null 2>&1; then
    alias fd='find . -name'
    alias fda='find . -name'
    alias fdt='find . -type f -name'
    alias fdd='find . -type d -name'
    alias fdl='find . -type l -name'
fi